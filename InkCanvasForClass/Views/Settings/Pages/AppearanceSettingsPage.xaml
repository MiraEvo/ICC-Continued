<UserControl x:Class="Ink_Canvas.Views.Settings.Pages.AppearanceSettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
             xmlns:local="clr-namespace:Ink_Canvas.Views.Settings.Pages"
             mc:Ignorable="d"
             d:DesignHeight="1200" d:DesignWidth="600"
             Background="Transparent"
             Foreground="#FAFAFA"
             ui:ThemeManager.RequestedTheme="Dark">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="SettingsPageStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" PanningMode="VerticalOnly">
        <StackPanel Margin="0,0,12,24">
        <TextBlock Text="外观" Style="{StaticResource PageTitleStyle}"/>
        <TextBlock Text="界面外观与显示细节配置" Style="{StaticResource PageSubtitleStyle}"/>

        <!-- ==================== 按钮显示区域 ==================== -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <StackPanel>
                <!-- 按钮显示复选框网格 - 5列2行 -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- 第一行 -->
                    <CheckBox Grid.Row="0" Grid.Column="0" Content="显示&quot;形状&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowShapeButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="0" Grid.Column="1" Content="显示&quot;冻结&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowFreezeButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="0" Grid.Column="2" Content="显示&quot;漫游&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowRoamingButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="0" Grid.Column="3" Content="显示&quot;撤销&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowUndoButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="0" Grid.Column="4" Content="显示&quot;重做&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowRedoButton, Mode=TwoWay}"/>

                    <!-- 第二行 -->
                    <CheckBox Grid.Row="1" Grid.Column="0" Content="显示&quot;清并鼠&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowClearButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="1" Grid.Column="1" Content="显示&quot;框选&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowSelectButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="1" Grid.Column="2" Content="显示&quot;白板&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowWhiteboardButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="1" Grid.Column="3" Content="显示&quot;隐藏&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowHideButton, Mode=TwoWay}"/>
                    <CheckBox Grid.Row="1" Grid.Column="4" Content="显示&quot;手势&quot;按钮"
                              Style="{StaticResource SettingsCheckBoxStyle}"
                              IsChecked="{Binding Appearance.IsShowGestureButton, Mode=TwoWay}"/>
                </Grid>

                <!-- 橡皮按钮下拉 -->
                <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                    <TextBlock Text="橡皮按钮" Style="{StaticResource SettingsTitleStyle}"
                               VerticalAlignment="Center" Margin="0,0,16,0"/>
                    <ComboBox x:Name="ComboBoxEraserButtons" Width="140"
                              SelectedIndex="{Binding Appearance.EraserButtonsVisibility, Mode=TwoWay}">
                        <ComboBoxItem Content="两个都显示"/>
                        <ComboBoxItem Content="仅墨迹擦"/>
                        <ComboBoxItem Content="仅板擦"/>
                    </ComboBox>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- ==================== 浮动工具栏设置 ==================== -->
        <TextBlock Text="浮动工具栏" Style="{StaticResource SettingsGroupTitleStyle}"/>

        <!-- 浮动工具栏显示按钮文字 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE8D2;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="浮动工具栏显示按钮文字" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="在工具栏按钮旁边显示功能名称" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.FloatingBarButtonLabelVisibility, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 浮动工具栏图标 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE790;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="浮动工具栏图标" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="选择工具栏的图标主题" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ComboBox Grid.Column="2" Width="160"
                          SelectedIndex="{Binding Appearance.FloatingBarImg, Mode=TwoWay}">
                    <ComboBoxItem Content="&quot;icc!&quot;默认蓝色"/>
                    <ComboBoxItem Content="&quot;icc!&quot;黑色透明版"/>
                </ComboBox>
            </Grid>
        </Border>

        <!-- 浮动工具栏缩放 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE740;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="浮动工具栏缩放" Style="{StaticResource SettingsTitleStyle}"/>
                </StackPanel>
                <Slider Grid.Column="2" VerticalAlignment="Center"
                        Minimum="0.5" Maximum="2.0"
                        Value="{Binding Appearance.ViewboxFloatingBarScaleTransformValue, Mode=TwoWay}"
                        TickFrequency="0.1" IsSnapToTickEnabled="True"
                        SmallChange="0.1" LargeChange="0.2"
                        Style="{StaticResource ModernSliderStyle}"/>
                <TextBlock Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Right"
                           Text="{Binding Appearance.ViewboxFloatingBarScaleTransformValue, StringFormat={}{0:F1}}"
                           Style="{StaticResource SettingsTitleStyle}"
                           Foreground="{StaticResource AccentBrush}"/>
            </Grid>
        </Border>

        <!-- 浮动工具栏透明度 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE7A6;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="浮动工具栏透明度" Style="{StaticResource SettingsTitleStyle}"/>
                </StackPanel>
                <Slider Grid.Column="2" VerticalAlignment="Center"
                        Minimum="0.1" Maximum="1.0"
                        Value="{Binding Appearance.ViewboxFloatingBarOpacityValue, Mode=TwoWay}"
                        TickFrequency="0.1" IsSnapToTickEnabled="True"
                        SmallChange="0.1" LargeChange="0.2"
                        Style="{StaticResource ModernSliderStyle}"/>
                <TextBlock Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Right"
                           Text="{Binding Appearance.ViewboxFloatingBarOpacityValue, StringFormat={}{0:F1}}"
                           Style="{StaticResource SettingsTitleStyle}"
                           Foreground="{StaticResource AccentBrush}"/>
            </Grid>
        </Border>

        <!-- 浮栏在PPT下透明度 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>
                    <ui:FontIcon Glyph="&#xE8A1;" Style="{StaticResource SettingsIconStyle}"/>
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text="浮栏在PPT下透明度" Style="{StaticResource SettingsTitleStyle}"/>
                    </StackPanel>
                    <Slider Grid.Column="2" VerticalAlignment="Center"
                            Minimum="0.1" Maximum="1.0"
                            Value="{Binding Appearance.ViewboxFloatingBarOpacityInPPTValue, Mode=TwoWay}"
                            TickFrequency="0.1" IsSnapToTickEnabled="True"
                            SmallChange="0.1" LargeChange="0.2"
                            Style="{StaticResource ModernSliderStyle}"/>
                    <TextBlock Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Right"
                               Text="{Binding Appearance.ViewboxFloatingBarOpacityInPPTValue, StringFormat={}{0:F1}}"
                               Style="{StaticResource SettingsTitleStyle}"
                               Foreground="{StaticResource AccentBrush}"/>
                </Grid>
                <TextBlock Text="# 重新进入PPT放映后生效" Style="{StaticResource HintTextStyle}"/>
            </StackPanel>
        </Border>

        <!-- 在调色盘窗口中显示笔尖模式按钮 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE70F;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="在调色盘窗口中显示 笔尖模式 按钮" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="允许在颜色选择器中切换笔尖模式" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.IsEnableDisPlayNibModeToggler, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- ==================== 白板设置 ==================== -->
        <TextBlock Text="白板" Style="{StaticResource SettingsGroupTitleStyle}"/>

        <!-- 白板 UI 80% 缩放 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE799;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="白板 UI 80% 缩放" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="在白板模式下将界面缩放至80%" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.EnableViewboxBlackBoardScaleTransform, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 在白板中显示当前时间和日期 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE787;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="在白板中显示当前时间和日期" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="白板模式下在界面显示时间日期信息" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.EnableTimeDisplayInWhiteboardMode, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 在白板中显示信仰の源 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE82D;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="在白板中显示信仰の源（好喝的/毒的鸡汤）" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="白板模式下显示励志或有趣的语句" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.EnableChickenSoupInWhiteboardMode, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 信仰の源出自Where -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE8F1;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="信仰の源出自Where?" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="选择鸡汤语句的来源类型" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ComboBox Grid.Column="2" Width="180"
                          SelectedIndex="{Binding Appearance.ChickenSoupSource, Mode=TwoWay}">
                    <ComboBoxItem Content="osu!玩家语录"/>
                    <ComboBoxItem Content="励志立志的名言警句"/>
                    <ComboBoxItem Content="高考祝福语"/>
                </ComboBox>
            </Grid>
        </Border>

        <!-- ==================== 收纳模式设置 ==================== -->
        <TextBlock Text="收纳模式" Style="{StaticResource SettingsGroupTitleStyle}"/>

        <!-- 在收纳模式下启用快速面板 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE8A0;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="在收纳模式下启用快速面板" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="收纳时显示快捷操作面板" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.IsShowQuickPanel, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 取消收纳按钮图标 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE76C;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="取消收纳按钮图标" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="选择展开按钮的图标样式" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ComboBox Grid.Column="2" Width="120"
                          SelectedIndex="{Binding Appearance.UnFoldButtonImageType, Mode=TwoWay}">
                    <ComboBoxItem Content="箭头"/>
                    <ComboBoxItem Content="笔"/>
                </ComboBox>
            </Grid>
        </Border>

        <!-- ==================== 任务栏托盘图标 ==================== -->
        <TextBlock Text="任务栏托盘图标" Style="{StaticResource SettingsGroupTitleStyle}"/>

        <!-- 启用托盘图标 -->
        <Border Style="{StaticResource SettingsCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ui:FontIcon Glyph="&#xE87B;" Style="{StaticResource SettingsIconStyle}"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="启用托盘图标" Style="{StaticResource SettingsTitleStyle}"/>
                    <TextBlock Text="在系统托盘区域显示应用图标" Style="{StaticResource SettingsDescriptionStyle}"/>
                </StackPanel>
                <ui:ToggleSwitch Grid.Column="2" VerticalAlignment="Center"
                                 IsOn="{Binding Appearance.EnableTrayIcon, Mode=TwoWay}"/>
            </Grid>
        </Border>

        <!-- 底部间距 -->
        <Border Height="40"/>
    </StackPanel>
    </ScrollViewer>
</UserControl>
